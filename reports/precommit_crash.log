
> neonhub@3.2.0 test
> npm run test --workspaces --if-present


> @neonhub/backend-v3.2@3.2.0 test
> NODE_ENV=test jest

PASS src/__tests__/agents/AdAgent.test.ts (5.891 s)
  ‚óè Console

    console.error
      Ad generation error: AuthenticationError: 401 Incorrect API key provided: test-key********ting. You can find your API key at https://platform.openai.com/account/api-keys.
          at Function.generate (/Users/kofirusu/Desktop/NeonHub/node_modules/openai/src/error.ts:76:14)
          at OpenAI.makeStatusError (/Users/kofirusu/Desktop/NeonHub/node_modules/openai/src/core.ts:462:21)
          at OpenAI.makeRequest (/Users/kofirusu/Desktop/NeonHub/node_modules/openai/src/core.ts:526:24)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at AdAgent.generateAdCopy (/Users/kofirusu/Desktop/NeonHub/apps/api/src/agents/AdAgent.ts:47:26)
          at Object.<anonymous> (/Users/kofirusu/Desktop/NeonHub/apps/api/src/__tests__/agents/AdAgent.test.ts:10:22) {
        status: 401,
        headers: {
          'alt-svc': 'h3=":443"; ma=86400',
          'cf-cache-status': 'DYNAMIC',
          'cf-ray': '99336bb33a1c6641-MAD',
          connection: 'keep-alive',
          'content-length': '270',
          'content-type': 'application/json; charset=utf-8',
          date: 'Thu, 23 Oct 2025 18:50:32 GMT',
          server: 'cloudflare',
          'set-cookie': '__cf_bm=ous1gXOhn73c6CBBOG0xLpRg97xNpUtH_JlrrS.5AIk-1761245432-1.0.1.1-FbnCICUEuEVJanzIyc6wmeUZyacQXzVG9Pf3PLnE79UhokDXpGZtHpAtCrAXMl7NAGSBFcydz4G4ui3sewsJQ3sBktrvlU4B39UL6ugk1dY; path=/; expires=Thu, 23-Oct-25 19:20:32 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=65VyFhR9CbOdcdWqSvZtwp2CNrR61A6bT7UQtDBCT4Q-1761245432979-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
          'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
          vary: 'Origin',
          'x-content-type-options': 'nosniff',
          'x-envoy-upstream-service-time': '0',
          'x-openai-proxy-wasm': 'v0.1',
          'x-request-id': 'req_9ce8c38bd0754a7a912bf7bf968ddecf'
        },
        request_id: 'req_9ce8c38bd0754a7a912bf7bf968ddecf',
        error: {
          message: 'Incorrect API key provided: test-key********ting. You can find your API key at https://platform.openai.com/account/api-keys.',
          type: 'invalid_request_error',
          param: null,
          code: 'invalid_api_key'
        },
        code: 'invalid_api_key',
        param: null,
        type: 'invalid_request_error'
      }

      60 |       };
      61 |     } catch (error) {
    > 62 |       console.error('Ad generation error:', error);
         |               ^
      63 |       // Fallback
      64 |       return {
      65 |         headline: `Transform Your ${product}`,

      at AdAgent.error [as generateAdCopy] (src/agents/AdAgent.ts:62:15)
      at Object.<anonymous> (src/__tests__/agents/AdAgent.test.ts:10:22)

    console.error
      Ad generation error: AuthenticationError: 401 Incorrect API key provided: test-key********ting. You can find your API key at https://platform.openai.com/account/api-keys.
          at Function.generate (/Users/kofirusu/Desktop/NeonHub/node_modules/openai/src/error.ts:76:14)
          at OpenAI.makeStatusError (/Users/kofirusu/Desktop/NeonHub/node_modules/openai/src/core.ts:462:21)
          at OpenAI.makeRequest (/Users/kofirusu/Desktop/NeonHub/node_modules/openai/src/core.ts:526:24)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at AdAgent.generateAdCopy (/Users/kofirusu/Desktop/NeonHub/apps/api/src/agents/AdAgent.ts:47:26)
          at Object.<anonymous> (/Users/kofirusu/Desktop/NeonHub/apps/api/src/__tests__/agents/AdAgent.test.ts:25:22) {
        status: 401,
        headers: {
          'alt-svc': 'h3=":443"; ma=86400',
          'cf-cache-status': 'DYNAMIC',
          'cf-ray': '99336bb4ec3e6641-MAD',
          connection: 'keep-alive',
          'content-length': '270',
          'content-type': 'application/json; charset=utf-8',
          date: 'Thu, 23 Oct 2025 18:50:33 GMT',
          server: 'cloudflare',
          'set-cookie': '__cf_bm=kYSOcvvTQmIY.nx3WBX.5XiGgJLQONLTWrXjHViP1.Y-1761245433-1.0.1.1-TFSBFtsSfKoXZaSRrVkgOXPsMJNiZM8ALY5mW7TXiSUNHF95_8VsNbZVaojm.fVaFnBIJGCxKBzUHAdHpR3wvZeLuLGEN.PWoW_mwez9gCc; path=/; expires=Thu, 23-Oct-25 19:20:33 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=kwKlBLxRJc88BWtbyq9Pjc_UZSrlZihqoSU2hD3HG2s-1761245433299-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
          'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
          vary: 'Origin',
          'x-content-type-options': 'nosniff',
          'x-envoy-upstream-service-time': '1',
          'x-openai-proxy-wasm': 'v0.1',
          'x-request-id': 'req_7ffb20fa3d8a490c95a2f4659a2ccef0'
        },
        request_id: 'req_7ffb20fa3d8a490c95a2f4659a2ccef0',
        error: {
          message: 'Incorrect API key provided: test-key********ting. You can find your API key at https://platform.openai.com/account/api-keys.',
          type: 'invalid_request_error',
          param: null,
          code: 'invalid_api_key'
        },
        code: 'invalid_api_key',
        param: null,
        type: 'invalid_request_error'
      }

      60 |       };
      61 |     } catch (error) {
    > 62 |       console.error('Ad generation error:', error);
         |               ^
      63 |       // Fallback
      64 |       return {
      65 |         headline: `Transform Your ${product}`,

      at AdAgent.error [as generateAdCopy] (src/agents/AdAgent.ts:62:15)
      at Object.<anonymous> (src/__tests__/agents/AdAgent.test.ts:25:22)

    console.error
      Ad generation error: AuthenticationError: 401 Incorrect API key provided: test-key********ting. You can find your API key at https://platform.openai.com/account/api-keys.
          at Function.generate (/Users/kofirusu/Desktop/NeonHub/node_modules/openai/src/error.ts:76:14)
          at OpenAI.makeStatusError (/Users/kofirusu/Desktop/NeonHub/node_modules/openai/src/core.ts:462:21)
          at OpenAI.makeRequest (/Users/kofirusu/Desktop/NeonHub/node_modules/openai/src/core.ts:526:24)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at AdAgent.generateAdCopy (/Users/kofirusu/Desktop/NeonHub/apps/api/src/agents/AdAgent.ts:47:26)
          at AdAgent.generateVariations (/Users/kofirusu/Desktop/NeonHub/apps/api/src/agents/AdAgent.ts:131:24)
          at Object.<anonymous> (/Users/kofirusu/Desktop/NeonHub/apps/api/src/__tests__/agents/AdAgent.test.ts:73:26) {
        status: 401,
        headers: {
          'alt-svc': 'h3=":443"; ma=86400',
          'cf-cache-status': 'DYNAMIC',
          'cf-ray': '99336bb65df56641-MAD',
          connection: 'keep-alive',
          'content-length': '270',
          'content-type': 'application/json; charset=utf-8',
          date: 'Thu, 23 Oct 2025 18:50:33 GMT',
          server: 'cloudflare',
          'set-cookie': '__cf_bm=o4mCy_7PWdHo7fELSXMuoWpSKLicRax433YvhOe2d9o-1761245433-1.0.1.1-R5PMqK83yMr8O8Jf2nBZRDgrTOvpsFJv3ImWk4wfMiJW1G5DNAVtaNvZuR0cVVnNrwwN979cQvN528svZRGBYUxpGNsWc4_RADMMjxGRo64; path=/; expires=Thu, 23-Oct-25 19:20:33 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=TGlURdGuNbFrYcDDH1kobQSraxe9wnhP2I4MAe_.ckI-1761245433489-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
          'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
          vary: 'Origin',
          'x-content-type-options': 'nosniff',
          'x-envoy-upstream-service-time': '3',
          'x-openai-proxy-wasm': 'v0.1',
          'x-request-id': 'req_2ffcb74f87f041bab08fbc2d7322c388'
        },
        request_id: 'req_2ffcb74f87f041bab08fbc2d7322c388',
        error: {
          message: 'Incorrect API key provided: test-key********ting. You can find your API key at https://platform.openai.com/account/api-keys.',
          type: 'invalid_request_error',
          param: null,
          code: 'invalid_api_key'
        },
        code: 'invalid_api_key',
        param: null,
        type: 'invalid_request_error'
      }

      60 |       };
      61 |     } catch (error) {
    > 62 |       console.error('Ad generation error:', error);
         |               ^
      63 |       // Fallback
      64 |       return {
      65 |         headline: `Transform Your ${product}`,

      at AdAgent.error [as generateAdCopy] (src/agents/AdAgent.ts:62:15)
      at AdAgent.generateVariations (src/agents/AdAgent.ts:131:24)
      at Object.<anonymous> (src/__tests__/agents/AdAgent.test.ts:73:26)

    console.error
      Ad generation error: AuthenticationError: 401 Incorrect API key provided: test-key********ting. You can find your API key at https://platform.openai.com/account/api-keys.
          at Function.generate (/Users/kofirusu/Desktop/NeonHub/node_modules/openai/src/error.ts:76:14)
          at OpenAI.makeStatusError (/Users/kofirusu/Desktop/NeonHub/node_modules/openai/src/core.ts:462:21)
          at OpenAI.makeRequest (/Users/kofirusu/Desktop/NeonHub/node_modules/openai/src/core.ts:526:24)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at AdAgent.generateAdCopy (/Users/kofirusu/Desktop/NeonHub/apps/api/src/agents/AdAgent.ts:47:26)
          at AdAgent.generateVariations (/Users/kofirusu/Desktop/NeonHub/apps/api/src/agents/AdAgent.ts:131:24)
          at Object.<anonymous> (/Users/kofirusu/Desktop/NeonHub/apps/api/src/__tests__/agents/AdAgent.test.ts:73:26) {
        status: 401,
        headers: {
          'alt-svc': 'h3=":443"; ma=86400',
          'cf-cache-status': 'DYNAMIC',
          'cf-ray': '99336bb7bf6b6641-MAD',
          connection: 'keep-alive',
          'content-length': '270',
          'content-type': 'application/json; charset=utf-8',
          date: 'Thu, 23 Oct 2025 18:50:33 GMT',
          server: 'cloudflare',
          'set-cookie': '__cf_bm=H0PmFqtfki0eq3mmBEhYu1Czw5rwqXTu1NTiNGfun48-1761245433-1.0.1.1-SsiSv0wRtlEtFub48vTK6NjMwbFM.Q3pptUDX9ptSOIl5cqz9pSYDxv_abgd91XHYvW4b1ymEaJFeZwXtsqnKZEtQOPkwuszhcGQNPA.u90; path=/; expires=Thu, 23-Oct-25 19:20:33 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=5TIKuufP0fGqOheBGawUk8Ftc4G4oSsJWbdoqTAy0.k-1761245433709-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
          'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
          vary: 'Origin',
          'x-content-type-options': 'nosniff',
          'x-envoy-upstream-service-time': '1',
          'x-openai-proxy-wasm': 'v0.1',
          'x-request-id': 'req_48149c0e18064df78dd96932f5d2bfdf'
        },
        request_id: 'req_48149c0e18064df78dd96932f5d2bfdf',
        error: {
          message: 'Incorrect API key provided: test-key********ting. You can find your API key at https://platform.openai.com/account/api-keys.',
          type: 'invalid_request_error',
          param: null,
          code: 'invalid_api_key'
        },
        code: 'invalid_api_key',
        param: null,
        type: 'invalid_request_error'
      }

      60 |       };
      61 |     } catch (error) {
    > 62 |       console.error('Ad generation error:', error);
         |               ^
      63 |       // Fallback
      64 |       return {
      65 |         headline: `Transform Your ${product}`,

      at AdAgent.error [as generateAdCopy] (src/agents/AdAgent.ts:62:15)
      at AdAgent.generateVariations (src/agents/AdAgent.ts:131:24)
      at Object.<anonymous> (src/__tests__/agents/AdAgent.test.ts:73:26)

    console.error
      Ad generation error: AuthenticationError: 401 Incorrect API key provided: test-key********ting. You can find your API key at https://platform.openai.com/account/api-keys.
          at Function.generate (/Users/kofirusu/Desktop/NeonHub/node_modules/openai/src/error.ts:76:14)
          at OpenAI.makeStatusError (/Users/kofirusu/Desktop/NeonHub/node_modules/openai/src/core.ts:462:21)
          at OpenAI.makeRequest (/Users/kofirusu/Desktop/NeonHub/node_modules/openai/src/core.ts:526:24)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at AdAgent.generateAdCopy (/Users/kofirusu/Desktop/NeonHub/apps/api/src/agents/AdAgent.ts:47:26)
          at AdAgent.generateVariations (/Users/kofirusu/Desktop/NeonHub/apps/api/src/agents/AdAgent.ts:131:24)
          at Object.<anonymous> (/Users/kofirusu/Desktop/NeonHub/apps/api/src/__tests__/agents/AdAgent.test.ts:73:26) {
        status: 401,
        headers: {
          'alt-svc': 'h3=":443"; ma=86400',
          'cf-cache-status': 'DYNAMIC',
          'cf-ray': '99336bb8c8fa6641-MAD',
          connection: 'keep-alive',
          'content-length': '270',
          'content-type': 'application/json; charset=utf-8',
          date: 'Thu, 23 Oct 2025 18:50:33 GMT',
          server: 'cloudflare',
          'set-cookie': '__cf_bm=kqjiWjhQveHB.6CSk2dAGmMXGCIVDC.HNgOkVzaSMoQ-1761245433-1.0.1.1-NuNSzWBMkq.JB0kx5kPpyP.VH4mnv1ZTKQb4KYQ3GHBLG59KP9mptWv13zrSC8HtlFEnPIml.NLhWYfqs1JWT4S1LybPATY.JI3jF4RNjg4; path=/; expires=Thu, 23-Oct-25 19:20:33 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=elOe26hzX6I6uC_CwN7dZQrZ0i_oqnLaShPCU5LWmWU-1761245433890-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
          'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
          vary: 'Origin',
          'x-content-type-options': 'nosniff',
          'x-envoy-upstream-service-time': '1',
          'x-openai-proxy-wasm': 'v0.1',
          'x-request-id': 'req_2d15e69e52049043b4e3ada25e8c65e6'
        },
        request_id: 'req_2d15e69e52049043b4e3ada25e8c65e6',
        error: {
          message: 'Incorrect API key provided: test-key********ting. You can find your API key at https://platform.openai.com/account/api-keys.',
          type: 'invalid_request_error',
          param: null,
          code: 'invalid_api_key'
        },
        code: 'invalid_api_key',
        param: null,
        type: 'invalid_request_error'
      }

      60 |       };
      61 |     } catch (error) {
    > 62 |       console.error('Ad generation error:', error);
         |               ^
      63 |       // Fallback
      64 |       return {
      65 |         headline: `Transform Your ${product}`,

      at AdAgent.error [as generateAdCopy] (src/agents/AdAgent.ts:62:15)
      at AdAgent.generateVariations (src/agents/AdAgent.ts:131:24)
      at Object.<anonymous> (src/__tests__/agents/AdAgent.test.ts:73:26)

PASS src/agents/__tests__/CampaignAgent.test.ts (5.881 s)
PASS src/agents/__tests__/SocialAgent.test.ts (5.937 s)
PASS src/__tests__/health.test.ts
PASS src/lib/__tests__/rateLimiter.test.ts (5.976 s)
  ‚óè Console

    console.warn
      ‚ö†Ô∏è  Using relaxed environment defaults. Set required variables or run `npm run verify` before production deploys.

      149 |
      150 |   if (!hasWarnedNonProd) {
    > 151 |     console.warn(
          |             ^
      152 |       '‚ö†Ô∏è  Using relaxed environment defaults. Set required variables or run `npm run verify` before production deploys.'
      153 |     );
      154 |     hasWarnedNonProd = true;

      at warn (src/config/env.ts:151:13)
      at Object.<anonymous> (src/config/env.ts:159:2)
      at Object.require (src/lib/logger.ts:2:1)
      at Object.require (src/lib/rateLimiter.ts:2:1)
      at Object.<anonymous> (src/lib/__tests__/rateLimiter.test.ts:1:1)

PASS src/__tests__/agents/TrendAgent.test.ts (6.073 s)
[18:50:34 UTC] [32mINFO[39m: [36mRate limiter using in-memory store (env: test)[39m
[18:50:34 UTC] [32mINFO[39m: [36mRate limiter using in-memory store (env: test)[39m
[18:50:34 UTC] [32mINFO[39m: [36mRate limiter using in-memory store (env: test)[39m
[18:50:34 UTC] [32mINFO[39m: [36mRate limiter using in-memory store (env: test)[39m
[18:50:34 UTC] [32mINFO[39m: [36mRate limiter using in-memory store (env: test)[39m
[18:50:34 UTC] [32mINFO[39m: [36mRate limiter using in-memory store (env: test)[39m
[18:50:34 UTC] [32mINFO[39m: [36mRate limiter using in-memory store (env: test)[39m
PASS src/agents/__tests__/EmailAgent.test.ts (6.177 s)
PASS src/__tests__/agents/OutreachAgent.test.ts (6.435 s)
PASS src/__tests__/agents/DesignAgent.test.ts (6.536 s)
  ‚óè Console

    console.error
      Design spec generation error: AuthenticationError: 401 Incorrect API key provided: test-key********ting. You can find your API key at https://platform.openai.com/account/api-keys.
          at Function.generate (/Users/kofirusu/Desktop/NeonHub/node_modules/openai/src/error.ts:76:14)
          at OpenAI.makeStatusError (/Users/kofirusu/Desktop/NeonHub/node_modules/openai/src/core.ts:462:21)
          at OpenAI.makeRequest (/Users/kofirusu/Desktop/NeonHub/node_modules/openai/src/core.ts:526:24)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at DesignAgent.generateDesignSpec (/Users/kofirusu/Desktop/NeonHub/apps/api/src/agents/DesignAgent.ts:53:26)
          at Object.<anonymous> (/Users/kofirusu/Desktop/NeonHub/apps/api/src/__tests__/agents/DesignAgent.test.ts:10:22) {
        status: 401,
        headers: {
          'alt-svc': 'h3=":443"; ma=86400',
          'cf-cache-status': 'DYNAMIC',
          'cf-ray': '99336bbbbd850327-MAD',
          connection: 'keep-alive',
          'content-length': '270',
          'content-type': 'application/json; charset=utf-8',
          date: 'Thu, 23 Oct 2025 18:50:34 GMT',
          server: 'cloudflare',
          'set-cookie': '__cf_bm=Gc3Ynb9InsxGmMZWXapBYs9A25WO0ytUE6jaDBOemiU-1761245434-1.0.1.1-9kR2ZuHGe2Ydn61dw1IscGIThtsyGMqzx1h.QUpPF2xW3Mqh0m1S7yHwQn359ZAR35yW2oIyrbOkb8fI63XO57.cOmSBsM4kUUqsli0EBu8; path=/; expires=Thu, 23-Oct-25 19:20:34 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=vQIIXlbK9bNfsov5wuUh8880PdezwD5opbQkkVvfohE-1761245434371-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
          'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
          vary: 'Origin',
          'x-content-type-options': 'nosniff',
          'x-envoy-upstream-service-time': '1',
          'x-openai-proxy-wasm': 'v0.1',
          'x-request-id': 'req_6cdb28a9d4594673a1be5dc4b6fd190f'
        },
        request_id: 'req_6cdb28a9d4594673a1be5dc4b6fd190f',
        error: {
          message: 'Incorrect API key provided: test-key********ting. You can find your API key at https://platform.openai.com/account/api-keys.',
          type: 'invalid_request_error',
          param: null,
          code: 'invalid_api_key'
        },
        code: 'invalid_api_key',
        param: null,
        type: 'invalid_request_error'
      }

      68 |       };
      69 |     } catch (error) {
    > 70 |       console.error('Design spec generation error:', error);
         |               ^
      71 |       return {
      72 |         layout: 'Clean, modern layout with clear hierarchy',
      73 |         colors: ['#6366f1', '#8b5cf6', '#f59e0b', '#10b981'],

      at DesignAgent.error [as generateDesignSpec] (src/agents/DesignAgent.ts:70:15)
      at Object.<anonymous> (src/__tests__/agents/DesignAgent.test.ts:10:22)

    console.error
      Design spec generation error: AuthenticationError: 401 Incorrect API key provided: test-key********ting. You can find your API key at https://platform.openai.com/account/api-keys.
          at Function.generate (/Users/kofirusu/Desktop/NeonHub/node_modules/openai/src/error.ts:76:14)
          at OpenAI.makeStatusError (/Users/kofirusu/Desktop/NeonHub/node_modules/openai/src/core.ts:462:21)
          at OpenAI.makeRequest (/Users/kofirusu/Desktop/NeonHub/node_modules/openai/src/core.ts:526:24)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at DesignAgent.generateDesignSpec (/Users/kofirusu/Desktop/NeonHub/apps/api/src/agents/DesignAgent.ts:53:26)
          at Object.<anonymous> (/Users/kofirusu/Desktop/NeonHub/apps/api/src/__tests__/agents/DesignAgent.test.ts:29:22) {
        status: 401,
        headers: {
          'alt-svc': 'h3=":443"; ma=86400',
          'cf-cache-status': 'DYNAMIC',
          'cf-ray': '99336bbd0ad10327-MAD',
          connection: 'keep-alive',
          'content-length': '270',
          'content-type': 'application/json; charset=utf-8',
          date: 'Thu, 23 Oct 2025 18:50:34 GMT',
          server: 'cloudflare',
          'set-cookie': '__cf_bm=EYfLEcvIe3YJsO.DsF7xrfIj.58UqrjO47.yEFhly9I-1761245434-1.0.1.1-OnQLU9isJDlBPCOz8x6jhrkdyJT0ILm2vhVt5zMmY_XHLerJFerygIP0mfSRzuP9utQMJCLjXrvSRKbgc5Y1IgbQIY8yY7KjdJaI0b3vwNE; path=/; expires=Thu, 23-Oct-25 19:20:34 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=XABSqn.IWZgIJN60dZ3K6YzaMu..FyNY5bs55pOTC9s-1761245434557-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
          'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
          vary: 'Origin',
          'x-content-type-options': 'nosniff',
          'x-envoy-upstream-service-time': '4',
          'x-openai-proxy-wasm': 'v0.1',
          'x-request-id': 'req_37920be76b7744009b053be92e0ea4a8'
        },
        request_id: 'req_37920be76b7744009b053be92e0ea4a8',
        error: {
          message: 'Incorrect API key provided: test-key********ting. You can find your API key at https://platform.openai.com/account/api-keys.',
          type: 'invalid_request_error',
          param: null,
          code: 'invalid_api_key'
        },
        code: 'invalid_api_key',
        param: null,
        type: 'invalid_request_error'
      }

      68 |       };
      69 |     } catch (error) {
    > 70 |       console.error('Design spec generation error:', error);
         |               ^
      71 |       return {
      72 |         layout: 'Clean, modern layout with clear hierarchy',
      73 |         colors: ['#6366f1', '#8b5cf6', '#f59e0b', '#10b981'],

      at DesignAgent.error [as generateDesignSpec] (src/agents/DesignAgent.ts:70:15)
      at Object.<anonymous> (src/__tests__/agents/DesignAgent.test.ts:29:22)

PASS src/__tests__/agents/InsightAgent.test.ts (6.978 s)
--------------------------------|---------|----------|---------|---------|---------------------------------------
File                            | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s                     
--------------------------------|---------|----------|---------|---------|---------------------------------------
All files                       |    9.11 |     8.95 |    9.61 |    9.01 |                                       
 src                            |       0 |        0 |       0 |       0 |                                       
  integration-server.ts         |       0 |        0 |       0 |       0 | 8-100                                 
  server.ts                     |       0 |        0 |       0 |       0 | 34-113                                
 src/agents                     |   20.37 |    14.67 |   19.51 |   19.74 |                                       
  AdAgent.ts                    |   81.57 |     40.9 |     100 |   81.57 | 53-56,100-101,105,143                 
  BrandVoiceAgent.ts            |       0 |        0 |       0 |       0 | 10-99                                 
  CampaignAgent.ts              |       0 |        0 |       0 |       0 | 57-550                                
  DesignAgent.ts                |   77.14 |       20 |      80 |   77.14 | 59-62,85-96                           
  EmailAgent.ts                 |       0 |        0 |       0 |       0 | 48-381                                
  InsightAgent.ts               |   89.13 |    73.68 |   88.88 |      90 | 61,83-86                              
  SEOAgent.ts                   |       0 |        0 |       0 |       0 | 10-108                                
  SocialAgent.ts                |       0 |        0 |       0 |       0 | 48-450                                
  SupportAgent.ts               |       0 |        0 |       0 |       0 | 10-107                                
 src/agents/base                |       0 |        0 |       0 |       0 |                                       
  AgentJobManager.ts            |       0 |        0 |       0 |       0 | 25-138                                
 src/agents/content             |       0 |        0 |       0 |       0 |                                       
  ContentAgent.ts               |       0 |        0 |       0 |       0 | 26-192                                
 src/ai                         |       0 |        0 |       0 |       0 |                                       
  openai.ts                     |       0 |        0 |       0 |       0 | 5-204                                 
 src/config                     |   49.05 |    46.87 |   36.36 |      50 |                                       
  env.ts                        |   49.05 |    46.87 |   36.36 |      50 | 13,43-67,76,81-83,131,135-136,141-147 
 src/db                         |       0 |        0 |       0 |       0 |                                       
  prisma.ts                     |       0 |        0 |       0 |       0 | 4-27                                  
 src/lib                        |   34.98 |    28.43 |   39.28 |   36.08 |                                       
  audit.ts                      |       0 |        0 |       0 |       0 | 17-36                                 
  encryption.ts                 |       0 |        0 |       0 |       0 | 3-68                                  
  errors.ts                     |       0 |        0 |       0 |       0 | 3-30                                  
  fsdb.ts                       |       0 |        0 |       0 |       0 | 5-40                                  
  http.ts                       |       0 |        0 |       0 |       0 | 4-10                                  
  leadScraper.ts                |    8.33 |        0 |   16.66 |    8.77 | 22-147                                
  logger.ts                     |      20 |    14.28 |   16.66 |   21.21 | 11-40,66-87                           
  pdfGenerator.ts               |     100 |      100 |     100 |     100 |                                       
  rateLimiter.ts                |   65.21 |    58.33 |   83.33 |   66.17 | 26-44,65-78,100                       
  requestUser.ts                |       0 |        0 |       0 |       0 | 8-18                                  
  search.ts                     |       0 |        0 |       0 |       0 | 2-10                                  
  socialApiClient.ts            |      50 |       75 |   77.77 |   51.85 | 36-57,70-103                          
 src/middleware                 |       0 |        0 |       0 |       0 |                                       
  adminGuard.ts                 |       0 |        0 |       0 |       0 | 8-31                                  
  auditLog.ts                   |       0 |        0 |       0 |       0 | 10-34                                 
  auth.ts                       |       0 |        0 |       0 |       0 | 25-127                                
  cors.ts                       |       0 |        0 |       0 |       0 | 6-88                                  
  rateLimit.ts                  |       0 |        0 |       0 |       0 | 13-80                                 
  securityHeaders.ts            |       0 |      100 |       0 |       0 | 9-34                                  
 src/obs                        |       0 |        0 |       0 |       0 |                                       
  sentry.ts                     |       0 |        0 |       0 |       0 | 7-24                                  
 src/routes                     |       0 |        0 |       0 |       0 |                                       
  agents.ts                     |       0 |        0 |       0 |       0 | 14-169                                
  analytics.ts                  |       0 |        0 |       0 |       0 | 5-24                                  
  auth.ts                       |       0 |        0 |       0 |       0 | 5-47                                  
  billing.ts                    |       0 |        0 |       0 |       0 | 12-227                                
  brandVoice.ts                 |       0 |        0 |       0 |       0 | 5-44                                  
  campaign.ts                   |       0 |        0 |       0 |       0 | 24-523                                
  content.ts                    |       0 |        0 |       0 |       0 | 9-132                                 
  credentials.ts                |       0 |        0 |       0 |       0 | 6-110                                 
  data-trust.ts                 |       0 |        0 |       0 |       0 | 10-240                                
  eco-metrics.ts                |       0 |        0 |       0 |       0 | 10-224                                
  email.ts                      |       0 |        0 |       0 |       0 | 5-14                                  
  governance.ts                 |       0 |        0 |       0 |       0 | 10-155                                
  health.ts                     |       0 |        0 |       0 |       0 | 9-92                                  
  jobs.ts                       |       0 |        0 |       0 |       0 | 6-73                                  
  metrics.schemas.ts            |       0 |      100 |     100 |       0 | 3-17                                  
  metrics.ts                    |       0 |        0 |       0 |       0 | 9-203                                 
  orchestration.ts              |       0 |        0 |       0 |       0 | 10-201                                
  predictive.ts                 |       0 |        0 |       0 |       0 | 10-116                                
  seo.ts                        |       0 |        0 |       0 |       0 | 5-15                                  
  settings.ts                   |       0 |        0 |       0 |       0 | 6-101                                 
  stripe-webhook.ts             |       0 |        0 |       0 |       0 | 8-185                                 
  support.ts                    |       0 |        0 |       0 |       0 | 5-14                                  
  team.ts                       |       0 |        0 |       0 |       0 | 9-289                                 
  trends.ts                     |       0 |        0 |       0 |       0 | 5-14                                  
 src/schemas                    |       0 |      100 |     100 |       0 |                                       
  auth.ts                       |       0 |      100 |     100 |       0 | 3-23                                  
  campaign.ts                   |       0 |      100 |     100 |       0 | 3-100                                 
 src/services                   |       0 |        0 |       0 |       0 |                                       
  analytics.service.ts          |       0 |        0 |       0 |       0 | 2-6                                   
  brandVoice.service.ts         |       0 |        0 |       0 |       0 | 17-33                                 
  content.service.ts            |       0 |        0 |       0 |       0 | 2-4                                   
  credentials.service.ts        |       0 |        0 |       0 |       0 | 34-191                                
  email.service.ts              |       0 |        0 |       0 |       0 | 2-3                                   
  predictive-engine.ts          |       0 |        0 |       0 |       0 | 4-75                                  
  seo.service.ts                |       0 |        0 |       0 |       0 | 2-6                                   
  settings.service.ts           |       0 |        0 |       0 |       0 | 25-183                                
  support.service.ts            |       0 |        0 |       0 |       0 | 2-3                                   
  trends.service.ts             |       0 |      100 |       0 |       0 | 2                                     
 src/services/billing           |       0 |        0 |       0 |       0 |                                       
  stripe.ts                     |       0 |        0 |       0 |       0 | 5-319                                 
 src/services/data-trust        |       0 |      100 |       0 |       0 |                                       
  index.ts                      |       0 |      100 |       0 |       0 | 13-84                                 
 src/services/eco-optimizer     |       0 |      100 |       0 |       0 |                                       
  index.ts                      |       0 |      100 |       0 |       0 | 13-106                                
 src/services/governance        |       0 |      100 |       0 |       0 |                                       
  index.ts                      |       0 |      100 |       0 |       0 | 9-72                                  
 src/services/orchestration     |       0 |      100 |       0 |       0 |                                       
  index.ts                      |       0 |      100 |       0 |       0 | 13-104                                
 src/services/predictive-engine |       0 |        0 |       0 |       0 |                                       
  index.ts                      |       0 |        0 |       0 |       0 | 3-35                                  
 src/services/team              |       0 |        0 |       0 |       0 |                                       
  invite.ts                     |       0 |        0 |       0 |       0 | 10-137                                
 src/types                      |       0 |      100 |     100 |       0 |                                       
  index.ts                      |       0 |      100 |     100 |       0 | 4-46                                  
 src/ws                         |       0 |        0 |       0 |       0 |                                       
  index.ts                      |       0 |        0 |       0 |       0 | 5-60                                  
--------------------------------|---------|----------|---------|---------|---------------------------------------
Jest: "global" coverage threshold for statements (80%) not met: 9.11%
Jest: "global" coverage threshold for branches (70%) not met: 8.95%
Jest: "global" coverage threshold for lines (80%) not met: 9.01%
Jest: "global" coverage threshold for functions (75%) not met: 9.61%

Test Suites: 10 passed, 10 total
Tests:       74 passed, 74 total
Snapshots:   0 total
Time:        14.477 s
Ran all test suites.
npm error Lifecycle script `test` failed with error:
npm error code 1
npm error path /Users/kofirusu/Desktop/NeonHub/apps/api
npm error workspace @neonhub/backend-v3.2@3.2.0
npm error location /Users/kofirusu/Desktop/NeonHub/apps/api
npm error command failed
npm error command sh -c NODE_ENV=test jest


> @neonhub/ui-v3.2@3.2.0 test
> echo "No tests configured"

No tests configured

> @neonhub/ai-economy@5.0.0 test
> jest --passWithNoTests

No tests found, exiting with code 0

> @neonhub/ai-governance@1.0.0 test
> jest --passWithNoTests

No tests found, exiting with code 0

> @neonhub/cognitive-ethics@7.1.0 test
> jest --passWithNoTests

No tests found, exiting with code 0

> @neonhub/cognitive-infra@5.0.0 test
> jest --passWithNoTests

No tests found, exiting with code 0

> @neonhub/compliance-consent@4.0.0 test
> jest --passWithNoTests

No tests found, exiting with code 0

> @neonhub/cooperative-intelligence@7.0.0 test
> jest --passWithNoTests

‚óè Validation Error:

  Directory /Users/kofirusu/Desktop/NeonHub/core/cooperative-intelligence/src in the roots[0] option was not found.

  Configuration Documentation:
  https://jestjs.io/docs/configuration

npm error Lifecycle script `test` failed with error:
npm error code 1
npm error path /Users/kofirusu/Desktop/NeonHub/core/cooperative-intelligence
npm error workspace @neonhub/cooperative-intelligence@7.0.0
npm error location /Users/kofirusu/Desktop/NeonHub/core/cooperative-intelligence
npm error command failed
npm error command sh -c jest --passWithNoTests


> @neonhub/data-trust@1.0.0 test
> jest

PASS src/__tests__/AuditTrail.test.ts
  ‚óè Console

    console.log
      {"actor":"user@example.com","category":"data_access","details":{"operation":"getData"},"eventId":"f8f1c36b-246f-4a7e-b8ee-9730cda560b5","level":"\u001b[32minfo\u001b[39m","message":"read","resource":"data-123","timestamp":"2025-10-23T18:50:44.658Z"}

      at Console.log (../../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      {"actor":"system","blockchainTx":"0x1234567890abcdef","category":"blockchain","details":{"hash":"datahash123"},"eventId":"bec56d3e-0aa1-451d-a310-8df5af6b69ec","level":"\u001b[32minfo\u001b[39m","message":"store_hash","resource":"blockchain","timestamp":"2025-10-23T18:50:44.673Z"}

      at Console.log (../../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      {"actor":"user@example.com","category":"data_access","details":{},"eventId":"df9e9a4c-be21-4018-9a7d-3a5ca2917277","level":"\u001b[32minfo\u001b[39m","message":"read","resource":"data-123","timestamp":"2025-10-23T18:50:44.675Z"}

      at Console.log (../../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      {"actor":"system","category":"system","details":{"error":"test error"},"eventId":"4a6267fe-b12e-4a67-9814-b4bd9f835ce5","level":"\u001b[31merror\u001b[39m","message":"error_occurred","resource":"system","timestamp":"2025-10-23T18:50:44.676Z"}

      at Console.log (../../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      {"actor":"user@example.com","category":"authentication","details":{},"eventId":"fe0e5f00-cdfb-466f-b946-51333c5f6f55","level":"\u001b[32minfo\u001b[39m","message":"login","resource":"authentication","timestamp":"2025-10-23T18:50:44.676Z"}

      at Console.log (../../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      {"actor":"user@example.com","category":"data_access","details":{},"eventId":"7ad04f5a-7e3b-4332-a198-5776c59b75c8","level":"\u001b[32minfo\u001b[39m","message":"read","resource":"data-1","timestamp":"2025-10-23T18:50:44.677Z"}

      at Console.log (../../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      {"actor":"user@example.com","category":"data_access","details":{},"eventId":"b62e2beb-fba1-46bf-9263-b62473a74726","level":"\u001b[32minfo\u001b[39m","message":"read","resource":"data-2","timestamp":"2025-10-23T18:50:44.677Z"}

      at Console.log (../../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      {"actor":"user@example.com","category":"data_access","details":{},"eventId":"7bcb3de5-0b2e-440b-b63e-0a69b9466d1c","level":"\u001b[32minfo\u001b[39m","message":"read","resource":"data-123","timestamp":"2025-10-23T18:50:44.678Z"}

      at Console.log (../../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      {"actor":"user@example.com","category":"data_access","details":{},"eventId":"cd02878b-c8eb-4c4f-b6a1-8132de5ca61c","level":"\u001b[32minfo\u001b[39m","message":"read","resource":"data-123","timestamp":"2025-10-23T18:50:44.687Z"}

      at Console.log (../../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      {"actor":"user@example.com","category":"data_access","details":{},"eventId":"74d89467-4115-414b-8b61-b5a389023e08","level":"\u001b[32minfo\u001b[39m","message":"read","resource":"data-123","timestamp":"2025-10-23T18:50:44.688Z"}

      at Console.log (../../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      {"actor":"user@example.com","category":"authentication","details":{"success":true},"eventId":"20e394c3-fd54-4829-ab04-ee642d7f824e","level":"\u001b[32minfo\u001b[39m","message":"login","resource":"authentication","timestamp":"2025-10-23T18:50:44.689Z"}

      at Console.log (../../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      {"actor":"user@example.com","category":"authorization","details":{"success":true},"eventId":"5f4be7da-1c68-4e4a-881a-2c5d0791804f","level":"\u001b[32minfo\u001b[39m","message":"access_granted","resource":"data-123","timestamp":"2025-10-23T18:50:44.690Z"}

      at Console.log (../../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      {"actor":"user@example.com","category":"data_access","details":{},"eventId":"0e54a680-4f38-4341-aa0a-45be07098a5f","level":"\u001b[32minfo\u001b[39m","message":"read","resource":"data-123","timestamp":"2025-10-23T18:50:44.691Z"}

      at Console.log (../../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      {"actor":"system","category":"integrity_check","details":{"success":true},"eventId":"6a714ac4-e872-4b08-bf66-2bddfceb18a6","level":"\u001b[32minfo\u001b[39m","message":"integrity_check","resource":"data-123","timestamp":"2025-10-23T18:50:44.691Z"}

      at Console.log (../../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      {"actor":"system","blockchainTx":"0xabc123","category":"blockchain","details":{},"eventId":"1c8a9444-c247-4f96-a0e5-2053aba2b4b5","level":"\u001b[32minfo\u001b[39m","message":"store_hash","resource":"blockchain","timestamp":"2025-10-23T18:50:44.692Z"}

      at Console.log (../../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      {"actor":"user@example.com","category":"data_access","details":{"note":"special operation"},"eventId":"f6257938-6981-4092-89a1-11b56e46a3bd","level":"\u001b[32minfo\u001b[39m","message":"read","resource":"important-data","timestamp":"2025-10-23T18:50:44.693Z"}

      at Console.log (../../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      {"actor":"user@example.com","category":"data_access","details":{},"eventId":"2b93bff0-64fa-40d5-84e1-243ae2b7fe6b","level":"\u001b[32minfo\u001b[39m","message":"read","resource":"data-123","timestamp":"2025-10-23T18:50:44.693Z"}

      at Console.log (../../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      {"actor":"system","category":"system","details":{},"eventId":"0875d000-d405-43e8-8064-e51183513eaa","level":"\u001b[31merror\u001b[39m","message":"error","resource":"system","timestamp":"2025-10-23T18:50:44.694Z"}

      at Console.log (../../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      {"actor":"user@example.com","category":"data_access","details":{},"eventId":"e9826bf4-ef25-40fc-b3ec-fadd8cc816c2","level":"\u001b[32minfo\u001b[39m","message":"read","resource":"data-123","timestamp":"2025-10-23T18:50:44.694Z"}

      at Console.log (../../node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      {"fileAge":0.3296235763888889,"level":"\u001b[32minfo\u001b[39m","message":"Log file cleanup needed","retentionDays":0,"timestamp":"2025-10-23T18:50:44.698Z"}

      at Console.log (../../node_modules/winston/lib/winston/transports/console.js:87:23)

PASS src/__tests__/IntegrityVerifier.test.ts
PASS src/__tests__/ProvenanceTracker.test.ts
PASS src/__tests__/MerkleTree.test.ts
PASS src/__tests__/DataHasher.test.ts

Test Suites: 5 passed, 5 total
Tests:       64 passed, 64 total
Snapshots:   0 total
Time:        1.09 s
Ran all test suites.

> @neonhub/eco-optimizer@1.0.0 test
> jest

PASS src/__tests__/CarbonFootprintCalculator.test.ts
PASS src/__tests__/GreenAIAdvisor.test.ts
PASS src/__tests__/EfficiencyAnalyzer.test.ts

Test Suites: 3 passed, 3 total
Tests:       13 passed, 13 total
Snapshots:   0 total
Time:        1.827 s, estimated 2 s
Ran all test suites.

> @neonhub/federation@4.0.0 test
> jest --passWithNoTests

No tests found, exiting with code 0

> @neonhub/mesh-resilience@7.0.0 test
> jest --passWithNoTests

No tests found, exiting with code 0

> @neonhub/orchestrator-global@1.0.0 test
> jest

  console.log
    [GlobalOrchestrator] 2025-10-23T18:50:48.483Z INFO: Starting Global Orchestrator Manager: test-orchestrator

      at ConsoleLogger.info (src/utils/Logger.ts:11:13)

  console.log
    [GlobalOrchestrator] 2025-10-23T18:50:48.499Z INFO: Initializing configuration manager

      at ConsoleLogger.info (src/utils/Logger.ts:11:13)

  console.log
    [GlobalOrchestrator] 2025-10-23T18:50:48.501Z INFO: Configuration loaded from ./config/orchestrator-config.json

      at ConsoleLogger.info (src/utils/Logger.ts:11:13)

  console.log
    [GlobalOrchestrator] 2025-10-23T18:50:48.502Z INFO: Configuration manager initialized successfully

      at ConsoleLogger.info (src/utils/Logger.ts:11:13)

  console.log
    [GlobalOrchestrator] 2025-10-23T18:50:48.503Z INFO: Starting node discovery service

      at ConsoleLogger.info (src/utils/Logger.ts:11:13)



#
# Fatal error in , line 0
# Fatal JavaScript invalid size error 169220804 (see crbug.com/1201626)
#
#
#
#FailureMessage Object: 0x16f89c5d8
----- Native stack trace -----

 1: 0x100696b88 node::NodePlatform::GetStackTracePrinter()::$_3::__invoke() [/usr/local/bin/node]
 2: 0x10174e274 V8_Fatal(char const*, ...) [/usr/local/bin/node]
 3: 0x10095ea04 v8::internal::FactoryBase<v8::internal::Factory>::NewFixedArrayWithFiller(v8::internal::Handle<v8::internal::Map>, int, v8::internal::Handle<v8::internal::Oddball>, v8::internal::AllocationType) [/usr/local/bin/node]
 4: 0x100afa638 v8::internal::(anonymous namespace)::ElementsAccessorBase<v8::internal::(anonymous namespace)::FastPackedSmiElementsAccessor, v8::internal::(anonymous namespace)::ElementsKindTraits<(v8::internal::ElementsKind)0>>::GrowCapacity(v8::internal::Handle<v8::internal::JSObject>, unsigned int) [/usr/local/bin/node]
 5: 0x100d45f18 v8::internal::Runtime_GrowArrayElements(int, unsigned long*, v8::internal::Isolate*) [/usr/local/bin/node]
 6: 0x1010b0c44 Builtins_CEntry_Return1_ArgvOnStack_NoBuiltinExit [/usr/local/bin/node]
 7: 0x1063543fc 
 8: 0x1010283e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
 9: 0x1010283e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
10: 0x1010283e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
11: 0x1010283e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
12: 0x101025708 construct_stub_create_deopt_addr [/usr/local/bin/node]
13: 0x1011645cc Builtins_ConstructHandler [/usr/local/bin/node]
14: 0x1010283e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
15: 0x101025708 construct_stub_create_deopt_addr [/usr/local/bin/node]
16: 0x1011645cc Builtins_ConstructHandler [/usr/local/bin/node]
17: 0x1010283e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
18: 0x1010283e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
19: 0x1010283e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
20: 0x1010283e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
21: 0x10105f210 Builtins_AsyncFunctionAwaitResolveClosure [/usr/local/bin/node]
22: 0x10110cfb8 Builtins_PromiseFulfillReactionJob [/usr/local/bin/node]
23: 0x10104eb94 Builtins_RunMicrotasks [/usr/local/bin/node]
24: 0x1010263f4 Builtins_JSRunMicrotasksEntry [/usr/local/bin/node]
25: 0x1008fdba0 v8::internal::(anonymous namespace)::Invoke(v8::internal::Isolate*, v8::internal::(anonymous namespace)::InvokeParams const&) [/usr/local/bin/node]
26: 0x1008fe08c v8::internal::(anonymous namespace)::InvokeWithTryCatch(v8::internal::Isolate*, v8::internal::(anonymous namespace)::InvokeParams const&) [/usr/local/bin/node]
27: 0x1008fe268 v8::internal::Execution::TryRunMicrotasks(v8::internal::Isolate*, v8::internal::MicrotaskQueue*) [/usr/local/bin/node]
28: 0x100925434 v8::internal::MicrotaskQueue::RunMicrotasks(v8::internal::Isolate*) [/usr/local/bin/node]
29: 0x100925bd0 v8::internal::MicrotaskQueue::PerformCheckpoint(v8::Isolate*) [/usr/local/bin/node]
30: 0x10055cc4c node::InternalCallbackScope::Close() [/usr/local/bin/node]
31: 0x10055cfe4 node::InternalMakeCallback(node::Environment*, v8::Local<v8::Object>, v8::Local<v8::Object>, v8::Local<v8::Function>, int, v8::Local<v8::Value>*, node::async_context) [/usr/local/bin/node]
32: 0x100573068 node::AsyncWrap::MakeCallback(v8::Local<v8::Function>, int, v8::Local<v8::Value>*) [/usr/local/bin/node]
33: 0x100638d80 node::fs::FSReqCallback::Resolve(v8::Local<v8::Value>) [/usr/local/bin/node]
34: 0x10063967c node::fs::AfterStat(uv_fs_s*) [/usr/local/bin/node]
35: 0x10062d430 node::MakeLibuvRequestCallback<uv_fs_s, void (*)(uv_fs_s*)>::Wrapper(uv_fs_s*) [/usr/local/bin/node]
36: 0x101003b00 uv__work_done [/usr/local/bin/node]
37: 0x101007550 uv__async_io [/usr/local/bin/node]
38: 0x101019628 uv__io_poll [/usr/local/bin/node]
39: 0x101007b14 uv_run [/usr/local/bin/node]
40: 0x10055d6f0 node::SpinEventLoopInternal(node::Environment*) [/usr/local/bin/node]
41: 0x1006733f0 node::NodeMainInstance::Run(node::ExitCode*, node::Environment*) [/usr/local/bin/node]
42: 0x100673104 node::NodeMainInstance::Run() [/usr/local/bin/node]
43: 0x1005fafa0 node::Start(int, char**) [/usr/local/bin/node]
44: 0x192ef2b98 start [/usr/lib/dyld]
.husky/pre-commit: line 1: 73143 Trace/BPT trap: 5       npm test
husky - pre-commit script failed (code 133)
